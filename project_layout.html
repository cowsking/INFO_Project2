<head>
  <script src="https://d3js.org/d3.v7.min.js"></script>
  <script src="https://d3js.org/topojson.v3.min.js"></script>
</head>

<body>
  Outcomes
  <select name="cars" id="cars">
    <option value="volvo">Party</option>
    <option value="saab">Sex</option>
    <option value="mercedes">Race</option>
  </select>

  <br />Filter<br />
  Median Household Income
  <select name="cars" id="cars">
    <option value="volvo">Above</option>
    <option value="saab">Below</option>
  </select>

  <form style="display: inline"><input type="number" value="0" /></form>
  <br />
  Percent with a Bachelor's or Higher
  <select name="cars" id="cars">
    <option value="volvo">Above</option>
    <option value="saab">Below</option>
  </select>
  <form style="display: inline"><input type="number" value="0" /></form>
  <br />

  Percent of Population of a certain race/ethnicity
  <select name="cars" id="cars">
    <option value="volvo">Asian</option>
    <option value="saab">Black</option>
    <option value="saab">Hispanic</option>
    <option value="saab">White</option>
  </select>

  <select name="cars" id="cars">
    <option value="volvo">Above</option>
    <option value="saab">Below</option>
  </select>
  <form style="display: inline"><input type="number" value="0" /></form>
  <br />
  <!-- <svg height="700" width="1400" style="border: 1px solid black"></svg> -->
  <div id="main" height="700" width="1400"></div>
</body>
<script>
  const main = d3.select("div#main");

  const svg = main
    .append("svg")
    .attr("width", 1000)
    .attr("height", 580)
    .style("margin", 20);
  // svg.append("text").attr("x", 350).attr("y", 260).text("USA Map goes here");

  const width = svg.attr("width");
  const height = svg.attr("height");
  margin = 20;
  const mapWidth = width - margin - margin;
  const mapHeight = height - margin - margin;
  const map = svg
    .append("g")
    .attr("transform", "translate(" + 20 + "," + 20 + ")");

  const requestData = async function () {
    const us_house = await d3.json("./us-house.geojson");
    // var center = d3.geo.centroid(us_house)
      var scale  = 450;
    var projection = d3
      .geoMercator()
      // .fitSize([mapWidth, mapHeight], us_house.features)
      .scale(scale)
      .translate([mapWidth/2+800, mapHeight / 2+500]);
    var path = d3.geoPath().projection(projection);

    map
      .selectAll("path")
      .data(us_house.features)
      .enter()
      .append("path")
      .attr("stroke", "black")
      .attr("stroke-width", 1)
      .style("fill", 'none')
      .attr("d", path);
  };
  requestData();

  // svg
  //   .append("circle")
  //   .attr("cx", 1200)
  //   .attr("cy", 350)
  //   .attr("r", 150)
  //   .style("fill", "lightblue");
  // svg.append("text").attr("x", 1100).attr("y", 350).text("pie chart goes here");
</script>
